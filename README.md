## Detector

An adapted version of Geant4's example B1 to simulate energy depositions from X-rays incident on the HEXITEC detector.

---

## Contact

For questions or support, contact:  
**oakley.clark98@gmail.com**

---

## Build Instructions

- Requires **Geant4 version 10.7.0** (tested only with this version)  
- Tested on **Linux Ubuntu 20.04.6 LTS** only  

### Setup environment variables

```bash
cd /path/to/geant4-install/bin
source geant4.sh
```

### Compile from source
1. Create a build directory adjacent to the source directory and navigate to it
```bash
cd /path/to/Detector
cd ..
mkdir /path/to/Detector-build
cd /path/to/Detector-build
```
2. Run CMake, specifying your Geant4 install directory
```bash
cmake -DGEANT4_DIR=/path/to/geant4-install/lib/Geant4-10.7.0 /path/to/Detector
```
3. Build the project
```bash
make
```

---

## Running the executable
1. Make sure you set environment variables as before
2. To run interactively, from the build directory run:
```bash
./Detector
```
3. To run from the supplied macro, from the build directory run:
```bash
./Detector run1.mac
```
The example macro file (run1.mac) uses an X-ray tube energy profile generated by SpekPy (tube_output_spekpy.mac)

---

## Output
- This project will output a .csv file: A_nt_EdepTable.csv
- The first 9 rows of which can be thrown away
- Column 1: (int) EventID
- Column 2: (double) Deposition position X (mm)
- Column 3: (double) Deposition position Y (mm)
- Column 4: (double) Deposision position Z (mm)
- Column 5: (double) Deposition energy (keV)